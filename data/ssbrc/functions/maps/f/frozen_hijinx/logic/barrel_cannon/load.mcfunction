tag @s add inCannon

tag @e[type=minecraft:item_display,tag=barrelCannon,distance=..1] add playerInCannon

effect give @s minecraft:resistance infinite 255 true
